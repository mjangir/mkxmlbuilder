!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Mkxmlbuilder",[],t):"object"==typeof exports?exports.Mkxmlbuilder=t():e.Mkxmlbuilder=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){(function(n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,s){"object"===l(t)&&"undefined"!=typeof e?e.exports=s(o(1),o(2),o(3),o(4),o(5),n||i):i.Mkxmlbuilder=s(utils,attributeModal,previewObj,i.jQuery,i.bootstrap,i.toastr,i.alert,i)}("undefined"!=typeof window?window:void 0,function(e,t,o,n,s,r){function a(e,t){for(i in t){if("undefined"!=typeof t[i][e])return t[i];if(t[i].children.length>0)return find(e,t[i].children)}}function d(e){if("string"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":l(e)))throw new Error("Element must be a valid selector, jQuery object or HTMLDom Node");if("string"==typeof e)e=document.querySelector(e);else{if(!(e instanceof jQuery))throw new Error("Element must be a valid selector, jQuery object or HTMLDom Node");e=e.get(0)}return e}function p(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function c(){var e,t,o;e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),e.className="mkxmlbuilder-outer",t.className="mkxmlbuilder-editor",o.className="mkxmlbuilder-preview",t.appendChild(this.editor.panelWrapper),o.appendChild(this.preview.panelWrapper),e.appendChild(t),this.options.showPreviewPanel?e.appendChild(o):t.style.width="100%",this.outerWrapper=e,this.editorWrapper=t,this.editorBody=this.editor.panelBody,this.previewWrapper=o,this.previewBody=this.preview.panelBody,this.element.appendChild(e)}function u(e,t,o){console.log(e);var n,i,l,s,r,d,c,u,w,C,x,S,B,k,N;for(t=t||1,n=1;n<=t;n+=1)i=document.createElement("div"),l=document.createElement("div"),s=document.createElement("input"),r=document.createElement("input"),d=document.createElement("span"),c=document.createElement("i"),u=document.createElement("span"),w=document.createElement("i"),C=document.createElement("span"),x=document.createElement("i"),S=document.createElement("span"),B=document.createElement("i"),i.className="mkxmlbuilder-node-item",l.className="mkxmlbuilder-inputbox",s.className="node-item-name "+(this.options.bootstrapStyle?"form-control":""),r.className="node-item-value "+(this.options.bootstrapStyle?"form-control":""),d.className="node-icon",u.className="node-icon",C.className="node-icon",S.className="node-icon",c.className=this.options.collapseIconClass,w.className=this.options.attrIconClass,x.className=this.options.addIconClass,B.className=this.options.removeIconClass,d.appendChild(c),u.appendChild(w),C.appendChild(x),S.appendChild(B),l.appendChild(s),l.appendChild(r),this.options.showCollapseButton&&l.appendChild(d),this.options.showAttrButton&&l.appendChild(u),this.options.showAddButton&&l.appendChild(C),this.options.showRemoveNodeButton&&e!==this.editorBody&&l.appendChild(S),s.setAttribute("placeholder",this.options.nodeNamePlaceholder),r.setAttribute("placeholder",this.options.nodeValuePlaceholder),i.mkxmlAttributes={},i.appendChild(l),e.appendChild(i),s.onkeyup=function(e,t){return function(o){b.call(e,o,t)}}(this,i),s.onchange=function(e,t){return function(o){b.call(e,o,t)}}(this,i),r.onkeyup=function(e,t){return function(o){v.call(e,o,t)}}(this,i),r.onchange=function(e,t){return function(o){v.call(e,o,t)}}(this,i),d.onclick=function(e,t){return function(o){h.call(e,o,t)}}(this,i),u.onclick=function(e,t){return function(o){m.call(e,o,t)}}(this,i),C.onclick=function(e,t,o,n){return function(i){f.call(e,i,t,o,n)}}(this,i,s,r),this.options.showRemoveNodeButton&&e!==this.editorBody&&(S.onclick=function(e,t,o){return function(n){y.call(e,n,t,o)}}(this,e,i)),k=i.mkxmlUniqueId=p(),N=a(e.mkxmlUniqueId,this.nodeHierarchy),"undefined"!=typeof N&&N.children.push({uniqueId:i,children:[]})}function m(e,t){this.attributeModal.setNode(t),this.attributeModal.show()}function h(e,t){}function f(e,t,o,n){var i=prompt("Please enter number of nodes you want")||0,l=window.getComputedStyle(o,null),s=parseInt(l.getPropertyValue("width"),10);i>0&&(o.style.width=2*s+2*s*1/100+"px",n.style.display="none",u.call(this,t,i))}function y(e,t,o){o.remove();var n,i,l=t.querySelector(".node-item-name"),s=t.querySelector(".node-item-value"),r=t.querySelectorAll(".mkxmlbuilder-node-item");r.length<1&&(n=window.getComputedStyle(l,null),i=parseInt(n.getPropertyValue("width"),10),l.style.width=i/2-i/2*1/100+"px",s.style.display="inline-block")}function b(e,t){t.mkxmlNodeName=e.target.value}function v(e,t){t.mkxmlNodeValue=e.target.value}function w(i,s,r){if(arguments.length<=0)throw new TypeError("You must have to provide element in the constructor");this.options={showAddButton:!0,showCollapseButton:!0,showAttrButton:!0,showRemoveNodeButton:!0,showRemoveConfirmation:!0,showPreviewPanel:!0,collapseIconClass:"fa fa-plus text-info",attrIconClass:"fa fa-tag text-primary",addIconClass:"fa fa-plus-circle text-success",removeIconClass:"fa fa-trash text-danger",nodeNamePlaceholder:"Node Name...",nodeValuePlaceholder:"Node Value...",bootstrapStyle:!0,editor:{showHeader:!0,showFooter:!0,showPreviewButton:!0,headerTitle:"Editor",previewButtonText:"Show XML Preview",bsStyle:!0,bsPanelColor:"primary",bsPreviewButtonColor:"primary"},preview:{showHeader:!0,showFooter:!0,showCopyButton:!0,headerTitle:"XML Preview",copyButtonText:"Copy To Clipboard",bsStyle:!0,bsPanelColor:"primary",bsCopyButtonColor:"primary"},attributeModal:{headerTitle:"Set Node Attributes",headerCloseIcon:"&times;",closeButtonText:"Close",saveButtonText:"Save",addRowIconHtml:'<i class="fa fa-plus-circle text-primary"></i>',removeRowIconHtml:'<i class="fa fa-minus-circle text-danger"></i>',bsStyle:!0,bsSaveButtonColor:"primary",bsCloseButtonColor:"danger"}},this.nodeHierarchy=[],this.element=d(i),this.options="object"===("undefined"==typeof s?"undefined":l(s))?e.extend(this.options,s):this.options,this.data=r||null,this.editor=new t(this.options.editor),this.preview=new o(this.options.preview),this.attributeModal=new n(this.options.attributeModal),c.call(this),this.init()}return w.prototype.init=function(){var e=p();this.editorBody.mkxmlUniqueId=e,this.nodeHierarchy.push({uniqueId:this.editorBody,children:[]}),null!==this.data?renderWithData.call(this,this.editorBody,this.data):u.call(this,this.editorBody)},w.prototype.generateJsonOutput=function(){},w.prototype.generateXmlOutput=function(){},w.prototype.getAllXmlNodes=function(){return this.nodeHierarchy},w})}).call(t,function(){return this}())},function(e,t){"use strict";var o={addClass:function(e,t){if("undefined"!=typeof t&&null!==t&&""!==t&&t){var o=t.indexOf(" ")>-1?t.split(" "):t;if(Array.isArray(o))for(var n=0;n<o.length;n++)e.classList.add(o[n]);else e.classList.add(o);return e}},escapeHtml:function(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},stringToHtmlElement:function(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentDocument.open(),t.contentDocument.write(e),t.contentDocument.close();var o=t.contentDocument.body.firstChild;return document.body.removeChild(t),o},extend:function(e,t){var o,n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},isElementVisible:function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"==t.visibility},design:{easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,o=1;1;t+=o,o/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(o,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,o=setInterval(function(){var n=new Date-t,i=n/e.duration;i>1&&(i=1),e.progress=i;var l=e.delta(i);e.step(l),1==i&&(clearInterval(o),"function"==typeof e.complete&&e.complete())},e.delay||10);return o},fadeOut:function(e,t){var n=1,i=t.easing||"swing";return this.animate({duration:t.duration,delta:function(e){return e=this.progress,o.design.easing[i](e)},complete:t.complete,step:function(t){e.style.opacity=n-t}})},fadeIn:function(e,t){var n=0,i=t.easing||"swing";return this.animate({duration:t.duration,delta:function(e){return e=this.progress,o.design.easing[i](e)},complete:t.complete,step:function(t){e.style.opacity=n+t}})}}};e.exports=o},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e,t){if(!e instanceof t)throw new TypeError("Cannot call a class as a function")}function o(){var e,t,o,n,i,l;return e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("span"),l=document.createElement("button"),e.className=(this.options.bsStyle?"panel panel-"+this.options.bsPanelColor:"")+" mkxmlbuilder-editor-panel",t.className=(this.options.bsStyle?"panel-heading":"")+" mkxmlbuilder-editor-panel-header",n.className=(this.options.bsStyle?"panel-body":"")+" mkxmlbuilder-editor-panel-body",i.className=(this.options.bsStyle?"panel-footer":"")+" mkxmlbuilder-editor-panel-footer",l.className=(this.options.bsStyle?"btn btn-"+this.options.bsPreviewButtonColor:"")+" mkxmlbuilder-editor-preview-btn",t.appendChild(o),this.panelWrapper=e,this.panelHeader=t,this.panelBody=n,this.panelFooter=i,this.headerTitle=o,this.previewButton=l,this.options.showHeader&&this.panelWrapper.appendChild(this.panelHeader),this.panelWrapper.appendChild(this.panelBody),this.options.showFooter&&this.panelWrapper.appendChild(this.panelFooter),this.options.showPreviewButton&&this.panelFooter.appendChild(this.previewButton),o.innerHTML=this.options.headerTitle,l.innerHTML=this.options.previewButtonText,this}function l(e){return t(this,l),this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}e.exports=l}()},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e,t){if(!e instanceof t)throw new TypeError("Cannot call a class as a function")}function o(){var e,t,o,n,i,l;return e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("span"),l=document.createElement("button"),e.className=(this.options.bsStyle?"panel panel-"+this.options.bsPanelColor:"")+" mkxmlbuilder-editor-panel",t.className=(this.options.bsStyle?"panel-heading":"")+" mkxmlbuilder-editor-panel-header",n.className=(this.options.bsStyle?"panel-body":"")+" mkxmlbuilder-editor-panel-body",i.className=(this.options.bsStyle?"panel-footer":"")+" mkxmlbuilder-editor-panel-footer",l.className=(this.options.bsStyle?"btn btn-"+this.options.bsCopyButtonColor:"")+" mkxmlbuilder-editor-preview-btn",t.appendChild(o),this.panelWrapper=e,this.panelHeader=t,this.panelBody=n,this.panelFooter=i,this.headerTitle=o,this.copyButton=l,this.options.showHeader&&this.panelWrapper.appendChild(this.panelHeader),this.panelWrapper.appendChild(this.panelBody),this.options.showFooter&&this.panelWrapper.appendChild(this.panelFooter),this.options.showCopyButton&&this.panelFooter.appendChild(this.copyButton),o.innerHTML=this.options.headerTitle,l.innerHTML=this.options.copyButtonText,this}function l(e){return t(this,l),this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}e.exports=l}()},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e){this.nodeItem=null,this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}function o(){var e,t,o,n,i,s,r,a,d,p,c;return e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),i=document.createElement("h4"),s=document.createElement("button"),r=document.createElement("span"),a=document.createElement("div"),d=document.createElement("div"),p=document.createElement("button"),c=document.createElement("button"),e.className=this.options.bsStyle===!0?"modal":"mkxmlbuilder-modal",t.className=this.options.bsStyle===!0?"modal-dialog":"mkxmlbuilder-modal-dialog",o.className=this.options.bsStyle===!0?"modal-content":"mkxmlbuilder-modal-content",n.className=this.options.bsStyle===!0?"modal-header":"mkxmlbuilder-modal-header",i.className=this.options.bsStyle===!0?"modal-title":"mkxmlbuilder-modal-title",s.className=this.options.bsStyle===!0?"close":"mkxmlbuilder-modal-close-icon",a.className=this.options.bsStyle===!0?"modal-body":"mkxmlbuilder-modal-body",d.className=this.options.bsStyle===!0?"modal-footer":"mkxmlbuilder-modal-footer",p.className=this.options.bsStyle===!0?"btn btn-"+this.options.bsSaveButtonColor:"mkxmlbuilder-modal-save-btn",c.className=this.options.bsStyle===!0?"btn btn-"+this.options.bsCloseButtonColor:"mkxmlbuilder-modal-close-btn",i.innerHTML=this.options.headerTitle,r.innerHTML=this.options.headerCloseIcon,p.innerHTML=this.options.saveButtonText,c.innerHTML=this.options.closeButtonText,s.appendChild(r),n.appendChild(s),n.appendChild(i),d.appendChild(c),d.appendChild(p),e.appendChild(t),t.appendChild(o),o.appendChild(n),o.appendChild(a),o.appendChild(d),e.style.display="none",this.modalWrapper=e,this.modalBody=a,this.saveBtn=p,this.closeBtn=c,this.closeIcon=r,document.querySelector("body").appendChild(e),l.call(this),this}function l(){var e=this;this.closeIcon.onclick=function(){e.hide()},this.closeBtn.onclick=function(){e.hide()},this.saveBtn.onclick=function(){e.save()}}function s(e){return function(){e.setModalAttributes()}}function r(e){return function(){e.remove()}}t.prototype.setNode=function(e){this.nodeItem=e},t.prototype.setModalAttributes=function(e){var t,o,n,i,l,a,d,p=this;if("undefined"!=typeof e)for(;this.modalBody.firstChild;)this.modalBody.removeChild(this.modalBody.firstChild);for(e=e||[{name:"",value:""}],d=0;d<e.length;d+=1)a=e[d],t=document.createElement("div"),o=document.createElement("input"),n=document.createElement("input"),i=document.createElement("span"),l=document.createElement("span"),t.className="attr-row",o.className="attr-name "+(p.options.bsStyle?"form-control":""),n.className="attr-value "+(p.options.bsStyle?"form-control":""),i.className="attr-add-button",l.className="attr-remove-button",i.innerHTML=this.options.addRowIconHtml,l.innerHTML=this.options.removeRowIconHtml,o.value=a.name,n.value=a.value,t.appendChild(o),t.appendChild(n),this.modalBody.appendChild(t),this.modalBody.querySelectorAll(".attr-row").length>1?t.appendChild(l):t.appendChild(i),i.onclick=s(p),l.onclick=r(t)},t.prototype.show=function(){var e="undefined"!==this.nodeItem&&"object"===n(this.nodeItem.mkxmlAttributes)&&Object.keys(this.nodeItem.mkxmlAttributes).length>0?this.nodeItem.mkxmlAttributes:[{name:"",value:""}];this.setModalAttributes(e),this.modalWrapper.classList.add("in"),this.modalWrapper.style.display="block",document.body.classList.add(this.options.bsStyle?"modal-open":"mkxmlbuilder-modal")},t.prototype.hide=function(){this.modalWrapper.classList.remove("in"),this.modalWrapper.style.display="none",document.body.style="",document.body.classList.remove(this.options.bsStyle?"modal-open":"mkxmlbuilder-modal")},t.prototype.save=function(){var e,t,o,n,i=(this.nodeItem,[]);if("undefined"!=typeof this.nodeItem&&null!==this.nodeItem&&(e=this.modalBody.querySelectorAll(".attr-row"),e&&e.length>0)){for(n=0;n<e.length;n+=1)t=null!==e[n].querySelector(".attr-name")?e[n].querySelector(".attr-name").value:null,o=null!==e[n].querySelector(".attr-value")?e[n].querySelector(".attr-value").value:null,null!==t&&null!==o&&i.push({name:t,value:o});this.nodeItem.mkxmlAttributes=i}this.hide()},e.exports=t}()},function(e,t){}])});
//# sourceMappingURL=mkxmlbuilder.min.js.map