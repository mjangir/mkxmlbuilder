!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Mkxmlbuilder",[],t):"object"==typeof exports?exports.Mkxmlbuilder=t():e.Mkxmlbuilder=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){(function(n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(l,r){"object"===i(t)&&"undefined"!=typeof e?e.exports=r(o(1),o(2).pd,o(3),o(4),o(5),o(6),n||l):l.Mkxmlbuilder=r(utils,attributeModal,previewObj,l.jQuery,l.bootstrap,l.toastr,l.alert,l)}("undefined"!=typeof window?window:void 0,function(e,t,o,n,l,r,s){function a(e,t){var o;for(o=0;o<t.length;o+=1){if(t[o][e])return t[o];if(t[o].subNodes.length>0){var n=a(e,t[o].subNodes);if(n)return n}}}function c(e,t){var o;for(o=0;o<t.length;o+=1){if(t[o][e])return t[o].splice(o,1);if(t[o].subNodes.length>0)return c(e,t[o].subNodes)}}function p(e,t){var o,n,i="";for(o in t){if(t[o].attributes.length>0){for(n in t[o].attributes)i+=" "+(""!=t[o].attributes[n].name?t[o].attributes[n].name+'="'+t[o].attributes[n].value+'"':"")+" ";i=i.replace(/((\s*\S+)*)\s*/,"$1")}t[o].subNodes.length<1?e+=""==t[o].value?"<"+t[o].name+i+"/>":"<"+t[o].name+i+">"+t[o].value+"</"+t[o].name+">":(e+="<"+t[o].name+i+">",e+=p("",t[o].subNodes),e+="</"+t[o].name+">"),i=""}return e}function u(e,t){var o,n,i,l,r,s,a,c;for(o in t)n={},i=Object.keys(t[o])[1],l=t[o][i],r=l.mkxmlNodeName?l.mkxmlNodeName:"Empty",s=l.mkxmlNodeValue?l.mkxmlNodeValue:"",a=l.mkxmlAttributes?l.mkxmlAttributes:[],c=t[o].subNodes.length>0,n.id=i,n.name=r,n.value=s,n.attributes=a,n.subNodes=[],e.push(n),c&&u(n.subNodes,t[o].subNodes);return e}function d(e){if("string"!=typeof e&&"object"!==("undefined"==typeof e?"undefined":i(e)))throw new Error("Element must be a valid selector, jQuery object or HTMLDom Node");if("string"==typeof e)e=document.querySelector(e);else{if(!(e instanceof jQuery))throw new Error("Element must be a valid selector, jQuery object or HTMLDom Node");e=e.get(0)}return e}function m(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function h(){var e=this.editor.xmlPreviewButton,t=this.editor.jsonPreviewButton;e.onclick=function(e){return function(){e.showXmlPreview()}}(this),t.onclick=function(e){return function(){e.showJsonPreview()}}(this)}function f(){var e,t,o;e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),e.className="mkxmlbuilder-outer",t.className="mkxmlbuilder-editor",o.className="mkxmlbuilder-preview",t.appendChild(this.editor.panelWrapper),o.appendChild(this.preview.panelWrapper),e.appendChild(t),this.options.showPreviewPanel?e.appendChild(o):t.style.width="100%",this.outerWrapper=e,this.editorWrapper=t,this.editorBody=this.editor.panelBody,this.previewWrapper=o,this.previewBody=this.preview.panelBody,this.element.appendChild(e)}function y(e,t,o){var n,i,l,r,s,c,p,u,d,h,f,y,g,v,S;for(t=t||1,n=1;n<=t;n+=1)i=document.createElement("div"),l=document.createElement("div"),r=document.createElement("input"),s=document.createElement("input"),c=document.createElement("span"),p=document.createElement("i"),u=document.createElement("span"),d=document.createElement("i"),h=document.createElement("span"),f=document.createElement("i"),y=document.createElement("span"),g=document.createElement("i"),i.className="mkxmlbuilder-node-item",l.className="mkxmlbuilder-inputbox",r.className="node-item-name "+(this.options.bootstrapStyle?"form-control":""),s.className="node-item-value "+(this.options.bootstrapStyle?"form-control":""),c.className="node-icon collapse-btn",u.className="node-icon attr-btn",h.className="node-icon add-btn",y.className="node-icon remove-btn",p.className=this.options.collapseIconClass,d.className=this.options.attrIconClass,f.className=this.options.addIconClass,g.className=this.options.removeIconClass,c.appendChild(p),u.appendChild(d),h.appendChild(f),y.appendChild(g),c.style.display="none",l.appendChild(r),l.appendChild(s),this.options.showCollapseButton&&l.appendChild(c),this.options.showAttrButton&&l.appendChild(u),this.options.showAddButton&&l.appendChild(h),this.options.showRemoveNodeButton&&e!==this.editorBody&&l.appendChild(y),r.setAttribute("placeholder",this.options.nodeNamePlaceholder),s.setAttribute("placeholder",this.options.nodeValuePlaceholder),i.mkxmlAttributes={},i.appendChild(l),e.appendChild(i),r.onkeyup=function(e,t){return function(o){E.call(e,o,t)}}(this,i),r.onchange=function(e,t){return function(o){E.call(e,o,t)}}(this,i),s.onkeyup=function(e,t){return function(o){C.call(e,o,t)}}(this,i),s.onchange=function(e,t){return function(o){C.call(e,o,t)}}(this,i),c.onclick=function(e,t){return function(o){w.call(e,o,t)}}(this,i),u.onclick=function(e,t){return function(o){b.call(e,o,t)}}(this,i),h.onclick=function(e,t,o,n){return function(i){x.call(e,i,t,o,n)}}(this,i,r,s),this.options.showRemoveNodeButton&&e!==this.editorBody&&(y.onclick=function(e,t,o){return function(n){N.call(e,n,t,o)}}(this,e,i)),i.mkxmlUniqueId=m(),S={subNodes:[]},S[i.mkxmlUniqueId]=i,v=a(e.mkxmlUniqueId,this.nodeHierarchy),v&&v.subNodes?v.subNodes.push(S):this.nodeHierarchy.push(S)}function b(e,t){this.attributeModal.setNode(t),this.attributeModal.show()}function g(e){var t=e.querySelectorAll(".mkxmlbuilder-node-item"),o=e.querySelector(".collapse-btn");o.style.display=t.length>0?"inline-block":"none"}function v(e,t,o){t=t.indexOf(" ")>-1?t.split(" "):[t],o=o.indexOf(" ")>-1?o.split(" "):[o],console.log(t,o);for(var n in o)e.classList.remove(o[n]);for(var n in t)e.classList.add(t[n])}function w(e,t){var o=t.querySelectorAll(".mkxmlbuilder-node-item"),n=t.querySelector(".node-icon.collapse-btn > i"),i=this.options.collapseIconClass,l=this.options.collapseIconToggleClass;if(o.length>0)for(var r=0;r<o.length;r++)"none"===o[r].style.display?(o[r].style.display="block",v(n,i,l)):(o[r].style.display="none",v(n,l,i))}function x(e,t,o,n){var i=prompt("Please enter number of nodes you want")||0,l=window.getComputedStyle(o,null),r=parseInt(l.getPropertyValue("width"),10);i>0&&("none"!=n.style.display&&(o.style.width=2*r+2*r*1/100+"px",n.style.display="none"),y.call(this,t,i)),g(t)}function N(e,t,o){o.remove(),c(o.mkxmlUniqueId,this.nodeHierarchy);var n,i,l=t.querySelector(".node-item-name"),r=t.querySelector(".node-item-value"),s=t.querySelectorAll(".mkxmlbuilder-node-item");s.length<1&&(n=window.getComputedStyle(l,null),i=parseInt(n.getPropertyValue("width"),10),l.style.width=i/2-i/2*1/100+"px",r.style.display="inline-block"),g(t)}function E(e,t){t.mkxmlNodeName=e.target.value}function C(e,t){t.mkxmlNodeValue=e.target.value}function S(t,r,s){if(arguments.length<=0)throw new TypeError("You must have to provide element in the constructor");this.options={showAddButton:!0,showCollapseButton:!0,showAttrButton:!0,showRemoveNodeButton:!0,showRemoveConfirmation:!0,showPreviewPanel:!0,collapseIconClass:"fa fa-minus text-info",collapseIconToggleClass:"fa fa-plus text-info",attrIconClass:"fa fa-tag text-primary",addIconClass:"fa fa-plus-circle text-success",removeIconClass:"fa fa-trash text-danger",nodeNamePlaceholder:"Node Name...",nodeValuePlaceholder:"Node Value...",bootstrapStyle:!0,editor:{showHeader:!0,showFooter:!0,showXmlPreviewButton:!0,showJsonPreviewButton:!0,headerTitle:"Editor",xmlPreviewButtonText:"Show XML Preview",jsonPreviewButtonText:"Show JSON Preview",bsStyle:!0,bsPanelColor:"primary",bsXmlPreviewButtonColor:"primary",bsJsonPreviewButtonColor:"primary"},preview:{showHeader:!0,showFooter:!0,showCopyButton:!0,headerTitle:"Preview",copyButtonText:"Copy To Clipboard",bsStyle:!0,bsPanelColor:"primary",bsCopyButtonColor:"primary"},attributeModal:{headerTitle:"Set Node Attributes",headerCloseIcon:"&times;",closeButtonText:"Close",saveButtonText:"Save",addRowIconHtml:'<i class="fa fa-plus-circle text-primary"></i>',removeRowIconHtml:'<i class="fa fa-minus-circle text-danger"></i>',bsStyle:!0,bsSaveButtonColor:"primary",bsCloseButtonColor:"danger"}},this.nodeHierarchy=[],this.element=d(t),this.options="object"===("undefined"==typeof r?"undefined":i(r))?e.extend(this.options,r):this.options,this.data=s||null,this.editor=new o(this.options.editor),this.preview=new n(this.options.preview),this.attributeModal=new l(this.options.attributeModal),h.call(this),f.call(this),this.init()}return S.prototype.init=function(){null!==this.data?renderWithData.call(this,this.editorBody,this.data):y.call(this,this.editorBody)},S.prototype.generateJsonOutput=function(){return u([],this.nodeHierarchy)},S.prototype.generateXmlOutput=function(){return p("",this.generateJsonOutput())},S.prototype.showXmlPreview=function(){this.preview.panelBodyPre.innerHTML=e.escapeHtmlEntities(t.xml(this.generateXmlOutput()))},S.prototype.showJsonPreview=function(){this.preview.panelBodyPre.innerHTML=JSON.stringify(this.generateJsonOutput(),null,2)},S.prototype.getAllXmlNodes=function(){return this.nodeHierarchy},S})}).call(t,function(){return this}())},function(e,t){"use strict";var o={addClass:function(e,t){if("undefined"!=typeof t&&null!==t&&""!==t&&t){var o=t.indexOf(" ")>-1?t.split(" "):t;if(Array.isArray(o))for(var n=0;n<o.length;n++)e.classList.add(o[n]);else e.classList.add(o);return e}},escapeHtml:function(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},stringToHtmlElement:function(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentDocument.open(),t.contentDocument.write(e),t.contentDocument.close();var o=t.contentDocument.body.firstChild;return document.body.removeChild(t),o},extend:function(e,t){var o,n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},isElementVisible:function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"==t.visibility},escapeHtmlEntities:function(e){var t={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};return e.replace(/[\u00A0-\u2666<>\&]/g,function(e){return"&"+(t[e.charCodeAt(0)]||"#"+e.charCodeAt(0))+";"})}};e.exports=o},function(e,t){/**
	* pretty-data - nodejs plugin to pretty-print or minify data in XML, JSON and CSS formats.
	*  
	* Version - 0.40.0
	* Copyright (c) 2012 Vadim Kiryukhin
	* vkiryukhin @ gmail.com
	* http://www.eslinstructor.net/pretty-data/
	* 
	* Dual licensed under the MIT and GPL licenses:
	*   http://www.opensource.org/licenses/mit-license.php
	*   http://www.gnu.org/licenses/gpl.html
	*
	*	pd.xml(data ) - pretty print XML;
	*	pd.json(data) - pretty print JSON;
	*	pd.css(data ) - pretty print CSS;
	*	pd.sql(data)  - pretty print SQL;
	*
	*	pd.xmlmin(data [, preserveComments] ) - minify XML; 
	*	pd.jsonmin(data)                      - minify JSON; 
	*	pd.cssmin(data [, preserveComments] ) - minify CSS; 
	*	pd.sqlmin(data)                       - minify SQL; 
	*
	* PARAMETERS:
	*
	*	@data  			- String; XML, JSON, CSS or SQL text to beautify;
	* 	@preserveComments	- Bool (optional, used in minxml and mincss only); 
	*				  Set this flag to true to prevent removing comments from @text; 
	*	@Return 		- String;
	*	
	* USAGE:
	*	
	*	var pd  = require('pretty-data').pd;
	*
	*	var xml_pp   = pd.xml(xml_text);
	*	var xml_min  = pd.xmlmin(xml_text [,true]);
	*	var json_pp  = pd.json(json_text);
	*	var json_min = pd.jsonmin(json_text);
	*	var css_pp   = pd.css(css_text);
	*	var css_min  = pd.cssmin(css_text [, true]);
	*	var sql_pp   = pd.sql(sql_text);
	*	var sql_min  = pd.sqlmin(sql_text);
	*
	* TEST:
	*	comp-name:pretty-data$ node ./test/test_xml
	*	comp-name:pretty-data$ node ./test/test_json
	*	comp-name:pretty-data$ node ./test/test_css
	*	comp-name:pretty-data$ node ./test/test_sql
	*/
function o(){for(this.shift=["\n"],this.step="  ",maxdeep=100,ix=0,ix=0;ix<maxdeep;ix++)this.shift.push(this.shift[ix]+this.step)}function n(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function i(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/~::~{1,}/g,"~::~").split("~::~")}o.prototype.xml=function(e){var t=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/xmlns\:/g,"~::~xmlns:").replace(/xmlns\=/g,"~::~xmlns=").split("~::~"),o=t.length,n=!1,i=0,l="",r=0;for(r=0;r<o;r++)t[r].search(/<!/)>-1?(l+=this.shift[i]+t[r],n=!0,(t[r].search(/-->/)>-1||t[r].search(/\]>/)>-1||t[r].search(/!DOCTYPE/)>-1)&&(n=!1)):t[r].search(/-->/)>-1||t[r].search(/\]>/)>-1?(l+=t[r],n=!1):/^<\w/.exec(t[r-1])&&/^<\/\w/.exec(t[r])&&/^<[\w:\-\.\,]+/.exec(t[r-1])==/^<\/[\w:\-\.\,]+/.exec(t[r])[0].replace("/","")?(l+=t[r],n||i--):t[r].search(/<\w/)>-1&&t[r].search(/<\//)==-1&&t[r].search(/\/>/)==-1?l=l+=n?t[r]:this.shift[i++]+t[r]:t[r].search(/<\w/)>-1&&t[r].search(/<\//)>-1?l=l+=n?t[r]:this.shift[i]+t[r]:t[r].search(/<\//)>-1?l=l+=n?t[r]:this.shift[--i]+t[r]:t[r].search(/\/>/)>-1?l=l+=n?t[r]:this.shift[i]+t[r]:l+=t[r].search(/<\?/)>-1?this.shift[i]+t[r]:t[r].search(/xmlns\:/)>-1||t[r].search(/xmlns\=/)>-1?this.shift[i]+t[r]:t[r];return"\n"==l[0]?l.slice(1):l},o.prototype.json=function(e){return"string"==typeof e?JSON.stringify(JSON.parse(e),null,this.step):"object"==typeof e?JSON.stringify(e,null,this.step):null},o.prototype.css=function(e){var t=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),o=t.length,n=0,i="",l=0;for(l=0;l<o;l++)i+=/\{/.exec(t[l])?this.shift[n++]+t[l]:/\}/.exec(t[l])?this.shift[--n]+t[l]:/\*\\/.exec(t[l])?this.shift[n]+t[l]:this.shift[n]+t[l];return i.replace(/^\n{1,}/,"")},o.prototype.sql=function(e){var t=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=t.length,l=[],r=0,s=this.step,a=0,c="",p=0;for(p=0;p<o;p++)l=p%2?l.concat(t[p]):l.concat(i(t[p],s));for(o=l.length,p=0;p<o;p++)a=n(l[p],a),/\s{0,}\s{0,}SELECT\s{0,}/.exec(l[p])&&(l[p]=l[p].replace(/\,/g,",\n"+s+s)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(l[p])?(r++,c+=this.shift[r]+l[p]):/\'/.exec(l[p])?(a<1&&r&&r--,c+=l[p]):(c+=this.shift[r]+l[p],a<1&&r&&r--);return c=c.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},o.prototype.xmlmin=function(e,t){var o=t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"");return o.replace(/>\s{0,}</g,"><")},o.prototype.jsonmin=function(e){return e.replace(/\s{0,}\{\s{0,}/g,"{").replace(/\s{0,}\[$/g,"[").replace(/\[\s{0,}/g,"[").replace(/:\s{0,}\[/g,":[").replace(/\s{0,}\}\s{0,}/g,"}").replace(/\s{0,}\]\s{0,}/g,"]").replace(/\"\s{0,}\,/g,'",').replace(/\,\s{0,}\"/g,',"').replace(/\"\s{0,}:/g,'":').replace(/:\s{0,}\"/g,':"').replace(/:\s{0,}\[/g,":[").replace(/\,\s{0,}\[/g,",[").replace(/\,\s{2,}/g,", ").replace(/\]\s{0,},\s{0,}\[/g,"],[")},o.prototype.cssmin=function(e,t){var o=t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"");return o.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},o.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},t.pd=new o},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e,t){if(!e instanceof t)throw new TypeError("Cannot call a class as a function")}function o(){var e,t,o,n,i,l,r;return e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("span"),l=document.createElement("button"),r=document.createElement("button"),e.className=(this.options.bsStyle?"panel panel-"+this.options.bsPanelColor:"")+" mkxmlbuilder-editor-panel",t.className=(this.options.bsStyle?"panel-heading":"")+" mkxmlbuilder-editor-panel-header",n.className=(this.options.bsStyle?"panel-body":"")+" mkxmlbuilder-editor-panel-body",i.className=(this.options.bsStyle?"panel-footer":"")+" mkxmlbuilder-editor-panel-footer",l.className=(this.options.bsStyle?"btn btn-"+this.options.bsXmlPreviewButtonColor:"")+" mkxmlbuilder-editor-xml-preview-btn",r.className=(this.options.bsStyle?"btn btn-"+this.options.bsJsonPreviewButtonColor:"")+" mkxmlbuilder-editor-json-preview-btn",t.appendChild(o),this.panelWrapper=e,this.panelHeader=t,this.panelBody=n,this.panelFooter=i,this.headerTitle=o,this.xmlPreviewButton=l,this.jsonPreviewButton=r,this.options.showHeader&&this.panelWrapper.appendChild(this.panelHeader),this.panelWrapper.appendChild(this.panelBody),this.options.showFooter&&this.panelWrapper.appendChild(this.panelFooter),this.options.showXmlPreviewButton&&this.panelFooter.appendChild(this.xmlPreviewButton),this.options.showJsonPreviewButton&&(this.jsonPreviewButton.style.marginLeft="10px",this.panelFooter.appendChild(this.jsonPreviewButton)),o.innerHTML=this.options.headerTitle,l.innerHTML=this.options.xmlPreviewButtonText,r.innerHTML=this.options.jsonPreviewButtonText,this}function l(e){return t(this,l),this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}e.exports=l}()},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e,t){if(!e instanceof t)throw new TypeError("Cannot call a class as a function")}function o(){var e,t,o,n,i,l,r;return e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("pre"),l=document.createElement("div"),o=document.createElement("span"),r=document.createElement("button"),e.className=(this.options.bsStyle?"panel panel-"+this.options.bsPanelColor:"")+" mkxmlbuilder-preview-panel",t.className=(this.options.bsStyle?"panel-heading":"")+" mkxmlbuilder-preview-panel-header",n.className=(this.options.bsStyle?"panel-body":"")+" mkxmlbuilder-preview-panel-body",l.className=(this.options.bsStyle?"panel-footer":"")+" mkxmlbuilder-preview-panel-footer",r.className=(this.options.bsStyle?"btn btn-"+this.options.bsCopyButtonColor:"")+" mkxmlbuilder-editor-preview-btn",t.appendChild(o),this.panelWrapper=e,this.panelHeader=t,this.panelBody=n,this.panelBodyPre=i,this.panelFooter=l,this.headerTitle=o,this.copyButton=r,this.options.showHeader&&this.panelWrapper.appendChild(this.panelHeader),this.panelBody.appendChild(i),this.panelWrapper.appendChild(this.panelBody),this.options.showFooter&&this.panelWrapper.appendChild(this.panelFooter),this.options.showCopyButton&&this.panelFooter.appendChild(this.copyButton),o.innerHTML=this.options.headerTitle,r.innerHTML=this.options.copyButtonText,this}function l(e){return t(this,l),this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}e.exports=l}()},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1);!function(){function t(e){this.nodeItem=null,this.options="object"===("undefined"==typeof e?"undefined":n(e))?i.extend(this.options,e):this.options,o.call(this)}function o(){var e,t,o,n,i,r,s,a,c,p,u;return e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),i=document.createElement("h4"),r=document.createElement("button"),s=document.createElement("span"),a=document.createElement("div"),c=document.createElement("div"),p=document.createElement("button"),u=document.createElement("button"),e.className=this.options.bsStyle===!0?"modal":"mkxmlbuilder-modal",t.className=this.options.bsStyle===!0?"modal-dialog":"mkxmlbuilder-modal-dialog",o.className=this.options.bsStyle===!0?"modal-content":"mkxmlbuilder-modal-content",n.className=this.options.bsStyle===!0?"modal-header":"mkxmlbuilder-modal-header",i.className=this.options.bsStyle===!0?"modal-title":"mkxmlbuilder-modal-title",r.className=this.options.bsStyle===!0?"close":"mkxmlbuilder-modal-close-icon",a.className=this.options.bsStyle===!0?"modal-body":"mkxmlbuilder-modal-body",c.className=this.options.bsStyle===!0?"modal-footer":"mkxmlbuilder-modal-footer",p.className=this.options.bsStyle===!0?"btn btn-"+this.options.bsSaveButtonColor:"mkxmlbuilder-modal-save-btn",u.className=this.options.bsStyle===!0?"btn btn-"+this.options.bsCloseButtonColor:"mkxmlbuilder-modal-close-btn",i.innerHTML=this.options.headerTitle,s.innerHTML=this.options.headerCloseIcon,p.innerHTML=this.options.saveButtonText,u.innerHTML=this.options.closeButtonText,r.appendChild(s),n.appendChild(r),n.appendChild(i),c.appendChild(u),c.appendChild(p),e.appendChild(t),t.appendChild(o),o.appendChild(n),o.appendChild(a),o.appendChild(c),e.style.display="none",this.modalWrapper=e,this.modalBody=a,this.saveBtn=p,this.closeBtn=u,this.closeIcon=s,document.querySelector("body").appendChild(e),l.call(this),this}function l(){var e=this;this.closeIcon.onclick=function(){e.hide()},this.closeBtn.onclick=function(){e.hide()},this.saveBtn.onclick=function(){e.save()}}function r(e){return function(){e.setModalAttributes()}}function s(e){return function(){e.remove()}}t.prototype.setNode=function(e){this.nodeItem=e},t.prototype.setModalAttributes=function(e){var t,o,n,i,l,a,c,p=this;if("undefined"!=typeof e)for(;this.modalBody.firstChild;)this.modalBody.removeChild(this.modalBody.firstChild);for(e=e||[{name:"",value:""}],c=0;c<e.length;c+=1)a=e[c],t=document.createElement("div"),o=document.createElement("input"),n=document.createElement("input"),i=document.createElement("span"),l=document.createElement("span"),t.className="attr-row",o.className="attr-name "+(p.options.bsStyle?"form-control":""),n.className="attr-value "+(p.options.bsStyle?"form-control":""),i.className="attr-add-button",l.className="attr-remove-button",i.innerHTML=this.options.addRowIconHtml,l.innerHTML=this.options.removeRowIconHtml,o.value=a.name,n.value=a.value,t.appendChild(o),t.appendChild(n),this.modalBody.appendChild(t),this.modalBody.querySelectorAll(".attr-row").length>1?t.appendChild(l):t.appendChild(i),i.onclick=r(p),l.onclick=s(t)},t.prototype.show=function(){var e="undefined"!==this.nodeItem&&"object"===n(this.nodeItem.mkxmlAttributes)&&Object.keys(this.nodeItem.mkxmlAttributes).length>0?this.nodeItem.mkxmlAttributes:[{name:"",value:""}];this.setModalAttributes(e),this.modalWrapper.classList.add("in"),this.modalWrapper.style.display="block",document.body.classList.add(this.options.bsStyle?"modal-open":"mkxmlbuilder-modal")},t.prototype.hide=function(){this.modalWrapper.classList.remove("in"),this.modalWrapper.style.display="none",document.body.style="",document.body.classList.remove(this.options.bsStyle?"modal-open":"mkxmlbuilder-modal")},t.prototype.save=function(){var e,t,o,n,i=(this.nodeItem,[]);if("undefined"!=typeof this.nodeItem&&null!==this.nodeItem&&(e=this.modalBody.querySelectorAll(".attr-row"),e&&e.length>0)){for(n=0;n<e.length;n+=1)t=null!==e[n].querySelector(".attr-name")?e[n].querySelector(".attr-name").value:null,o=null!==e[n].querySelector(".attr-value")?e[n].querySelector(".attr-value").value:null,null!==t&&null!==o&&i.push({name:t,value:o});this.nodeItem.mkxmlAttributes=i}this.hide()},e.exports=t}()},function(e,t){}])});
//# sourceMappingURL=mkxmlbuilder.min.js.map