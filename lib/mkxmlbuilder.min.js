!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define("Mkxmlbuilder",["jQuery"],t):"object"==typeof exports?exports.Mkxmlbuilder=t(require("jQuery")):e.Mkxmlbuilder=t(e.jQuery)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(o){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,r){"object"===i(t)&&"undefined"!=typeof e?e.exports=r(n(1),n(2),n(3),n(4),n(5),o||a):a.Mkxmlbuilder=r(utils,attributeModal,previewObj,a.jQuery,a.bootstrap,a.toastr,a.alert,a)}("undefined"!=typeof window?window:void 0,function(e,t,n,o,a,r){var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(e){var t;if("string"==typeof e)t=document.querySelector(e);else if("object"===("undefined"==typeof e?"undefined":i(e))&&e.tagName)t=e;else{if(!(e instanceof o))throw new Error("Element must be a valid selector, jQuery object or HTMLDom Node");t=e.get(0)}return t&&(this.editorWrapper=document.createElement("div"),this.previewWrapper=document.createElement("div"),this.editorWrapper.style["float"]="left",this.previewWrapper.style["float"]="right",this.options.showXmlPreview?(this.editorWrapper.style.width="58%",this.previewWrapper.style.width="40%",this.xmlPreview=new n(this.previewWrapper)):this.editorWrapper.style.width="100%",t.appendChild(this.editorWrapper),t.appendChild(this.previewWrapper)),t},c=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},d=function(e,t){t.mkxmlNodeName=e.target.value},u=function(e,t){t.mkxmlNodeValue=e.target.value},p=function(e){},m=function(e,t){this.attributeModal.setNode(t),this.attributeModal.show()},h=function(e,t,n,o){var i=prompt("Please enter number of nodes you want")||0,a=window.getComputedStyle(n,null),r=parseInt(a.getPropertyValue("width"),10);i>0&&(n.style.width=2*r+2*r*1/100+"px",o.style.display="none",y.call(this,t,i))},f=function(e,t,n){n.remove();var o=t.querySelector("."+this.options.inputBoxWrapperClass+" .node-name"),i=t.querySelector("."+this.options.inputBoxWrapperClass+" .node-value"),a=t.querySelectorAll(".node-item");if(n.remove(),a.length<1){var r=window.getComputedStyle(o,null),l=parseInt(r.getPropertyValue("width"),10);o.style.width=l/2-l/2*1/100+"px",i.style.display="inline-block"}},y=function(e,t,n){for(var o=t||1,i=1;i<=o;i++){var a=document.createElement("div"),r=document.createElement("div"),l=document.createElement("input"),s=document.createElement("input"),y=(document.createElement("input"),document.createElement("span")),v=document.createElement("i"),b=document.createElement("span"),C=document.createElement("i"),w=document.createElement("span"),x=document.createElement("i");if(a.mkxmlUniqueId=c(),a.className="node-item",r.className=this.options.inputBoxWrapperClass,l.className=this.options.nodeNameInputClass,s.className=this.options.nodeValueInputClass,l.setAttribute("placeholder","Node Name..."),s.setAttribute("placeholder","Node Value..."),y.className="node-icon",b.className="node-icon",w.className="node-icon",v.className=this.options.collapseIconClass,C.className=this.options.attrIconClass,x.className=this.options.addIconClass,y.appendChild(v),b.appendChild(C),w.appendChild(x),r.appendChild(l),r.appendChild(s),r.appendChild(y),r.appendChild(b),r.appendChild(w),a.appendChild(r),a.mkxmlAttributes={},l.onkeyup=function(e,t){return function(n){d.call(e,n,t)}}(this,a),l.onchange=function(e,t){return function(n){d.call(e,n,t)}}(this,a),s.onkeyup=function(e,t){return function(n){u.call(e,n,t)}}(this,a),s.onchange=function(e,t){return function(n){u.call(e,n,t)}}(this,a),y.onclick=p,b.onclick=function(e,t){return function(n){m.call(e,n,t)}}(this,a),w.onclick=function(e,t,n,o){return function(i){h.call(e,i,t,n,o)}}(this,a,l,s),e!==this.editorWrapper){var g=document.createElement("span"),N=document.createElement("i");g.className="node-icon",N.className=this.options.removeIconClass,g.appendChild(N),r.appendChild(g),g.onclick=function(e,t,n,o){return function(i){f.call(e,i,t,n,o)}}(this,e,a)}e.appendChild(a)}},v=function(e,t){},b=function C(t,n,o){if(l(this,C),this.options={collapsable:!0,allowAttributes:!0,showRemoveConfirmation:!0,showRemoveButton:!0,collapseButtonClass:"text-primary",addButtonClass:"text-success",removeButtonClass:"text-danger",attrButtonClass:"text-info",showXmlPreview:!0,inputBoxWrapperClass:"input-box",nodeNameInputClass:"form-control node-name",nodeValueInputClass:"form-control node-value",collapseIconClass:"fa fa-plus text-primary",attrIconClass:"fa fa-tag text-succss",addIconClass:"fa fa-plus-circle text-info",removeIconClass:"fa fa-trash text-danger",editorTitle:"Create Your XML",previewTitle:"XML Preivew"},this.data=null,this.xmlNodes={},arguments.length<=0)throw new TypeError("You must have to provide element in the constructor");this.element=s.call(this,arguments[0]),2===arguments.length&&(this.options=e.extend(this.options,arguments[1])),3===arguments.length&&(this.data=arguments[2]),this.init()};return b.prototype.init=function(){this.editorWrapper.mkxmlUniqueId=c(),null!==this.data?v.call(this,this.editorWrapper,this.data):y.call(this,this.editorWrapper),this.attributeModal=new t},b.prototype.generateJsonOutput=function(){},b.prototype.generateXmlOutput=function(){},b.prototype.getAllXmlNodes=function(){return this.xmlNodes},b})}).call(t,function(){return this}())},function(e,t){"use strict";var n={addClass:function(e,t){if("undefined"!=typeof t&&null!==t&&""!==t&&t){var n=t.indexOf(" ")>-1?t.split(" "):t;if(Array.isArray(n))for(var o=0;o<n.length;o++)e.classList.add(n[o]);else e.classList.add(n);return e}},escapeHtml:function(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},stringToHtmlElement:function(e){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentDocument.open(),t.contentDocument.write(e),t.contentDocument.close();var n=t.contentDocument.body.firstChild;return document.body.removeChild(t),n},extend:function(e,t){var n,o={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},isElementVisible:function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"==t.visibility},design:{easing:{linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,n=1;1;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e){var t=new Date,n=setInterval(function(){var o=new Date-t,i=o/e.duration;i>1&&(i=1),e.progress=i;var a=e.delta(i);e.step(a),1==i&&(clearInterval(n),"function"==typeof e.complete&&e.complete())},e.delay||10);return n},fadeOut:function(e,t){var o=1,i=t.easing||"swing";return this.animate({duration:t.duration,delta:function(e){return e=this.progress,n.design.easing[i](e)},complete:t.complete,step:function(t){e.style.opacity=o-t}})},fadeIn:function(e,t){var o=0,i=t.easing||"swing";return this.animate({duration:t.duration,delta:function(e){return e=this.progress,n.design.easing[i](e)},complete:t.complete,step:function(t){e.style.opacity=o+t}})}}};e.exports=n},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(1);!function(){var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){var e=this;this.closeIcon.onclick=function(){e.hide()},this.closeBtn.onclick=function(){e.hide()},this.saveBtn.onclick=function(){e.save()}},i=function a(){t(this,a),this.options={headerTitle:"Set Node Attributes",saveBtnClass:"btn btn-success",closeBtnClass:"btn btn-danger"},this.nodeItem=null,this.init()};i.prototype.init=function(){var e,t,o,i,a,r,l,s,c,d,u;return e=document.createElement("div"),e.className="modal fade mkxmlbuilder-attr-modal",e.style.display="none",t=document.createElement("div"),t.className="modal-dialog",o=document.createElement("div"),o.className="modal-content",i=document.createElement("div"),i.className="modal-header",a=document.createElement("h4"),a.className="modal-title",a.innerHTML=this.options.headerTitle,r=document.createElement("button"),r.className="close",l=document.createElement("span"),l.innerHTML="&times;",r.appendChild(l),i.appendChild(r),i.appendChild(a),s=document.createElement("div"),s.className="modal-body",c=document.createElement("div"),c.className="modal-footer",d=document.createElement("button"),d.className=this.options.saveBtnClass,d.innerHTML="Save",u=document.createElement("button"),u.className=this.options.closeBtnClass,u.innerHTML="Close",c.appendChild(u),c.appendChild(d),e.appendChild(t),t.appendChild(o),o.appendChild(i),o.appendChild(s),o.appendChild(c),this.modalWrapper=e,this.modalBody=s,this.saveBtn=d,this.closeBtn=u,this.closeIcon=l,document.querySelector("body").appendChild(e),n.call(this),this},i.prototype.setNode=function(e){this.nodeItem=e},i.prototype.setModalAttributes=function(e){var t,n,o,i,a,r,l=this;if("undefined"!=typeof e)for(;this.modalBody.firstChild;)this.modalBody.removeChild(this.modalBody.firstChild);e=e||[{name:"",value:""}];for(var s=0;s<e.length;s++)r=e[s],t=document.createElement("div"),t.className="attr-row",n=document.createElement("input"),n.className="attr-name form-control",n.value=r.name,o=document.createElement("input"),o.className="attr-value form-control",o.value=r.value,i=document.createElement("span"),i.className="attr-add-button",i.innerHTML='<i class="fa fa-plus-circle text-primary"></i>',a=document.createElement("span"),a.className="attr-remove-button",a.innerHTML='<i class="fa fa-minus-circle text-danger"></i>',i.onclick=function(){l.setModalAttributes()},a.onclick=function(){t.remove()},t.appendChild(n),t.appendChild(o),this.modalBody.appendChild(t),this.modalBody.querySelectorAll(".attr-row").length>1?t.appendChild(a):t.appendChild(i)},i.prototype.show=function(){var e="undefined"!=this.nodeItem&&"object"==o(this.nodeItem.mkxmlAttributes)&&Object.keys(this.nodeItem.mkxmlAttributes).length>0?this.nodeItem.mkxmlAttributes:[{name:"",value:""}];this.setModalAttributes(e),this.modalWrapper.classList.add("in"),this.modalWrapper.style.display="block",document.body.classList.add("modal-open")},i.prototype.hide=function(){this.modalWrapper.classList.remove("in"),this.modalWrapper.style.display="none",document.body.style="",document.body.classList.remove("modal-open")},i.prototype.save=function(){var e=(this.nodeItem,[]);if("undefined"!=typeof this.nodeItem&&null!==this.nodeItem){var t=this.modalBody.querySelectorAll(".attr-row");if(t&&t.length>0){for(var n=0;n<t.length;n++){var o=null!==t[n].querySelector(".attr-name")?t[n].querySelector(".attr-name").value:null,i=null!==t[n].querySelector(".attr-value")?t[n].querySelector(".attr-value").value:null;null!==o&&null!==i&&e.push({name:o,value:i})}this.nodeItem.mkxmlAttributes=e}}this.hide()},e.exports=i}()},function(e,t,n){"use strict";n(1);!function(){var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function o(e){t(this,o),this.wrapper=e,this.options={title:"XML Preview",showHeader:!0,showFooter:!0,showCopyLink:!0,copyButtonText:"Copy XML"},this.init()};n.prototype.init=function(){var e,t,n,o,i,a;return e=document.createElement("div"),o=document.createElement("div"),e.className="mkxmlbuilder-preview",o.className="mkxmlbuilder-preview-body",this.panelWrapper=e,this.options.showHeader&&(t=document.createElement("div"),t.className="mkxmlbuilder-preview-header",n=document.createElement("span"),n.innerHTML=this.options.title,t.appendChild(n),this.panelHeader=t,this.panelWrapper.appendChild(t)),this.panelBody=o,this.panelWrapper.appendChild(o),this.options.showFooter&&(i=document.createElement("div"),i.className="mkxmlbuilder-preview-footer",this.options.showCopyLink&&(a=document.createElement("button"),a.className="mkxmlbuilder-preview-copy-button",a.innerHTML=this.options.copyButtonText,i.appendChild(a)),this.panelFooter=i,this.panelWrapper.appendChild(i)),this.wrapper.appendChild(this.panelWrapper),this},n.prototype.renderXml=function(){},e.exports=n}()},function(t,n){t.exports=e},function(e,t){}])});
//# sourceMappingURL=mkxmlbuilder.min.js.map